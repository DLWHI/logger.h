# cpp-project

Template C++ project for fast build and deployment

## Project configuration

Project related configuration options are contained in ```project.cfg``` file.
These are platform independent options such as C++ standart, project name and etc.

List of options:

- ```BUILD_PREFIX``` - generated build path (Default: build)  
- ```INSTALL_PREFIX``` - install path (No default value)  
- ```TARGET_NAME``` - target name to build (Default: cpp-project)  
- ```BUILD_TYPE``` - build type or configuration, depends on detected generator (Default: Debug)  
- ```CMAKE_MODULES_DIR``` - cmake module scripts folder (cmake folder of project
added automatically to this list)  
- ```CMAKE_CONFIGURATIONS``` - semicolon separated cmake configurations/build
types for current project (Default: Debug;Release;Asan)

### Default Configuration/Build Types

- ```Debug``` - debug build
- ```Release``` - release build  
- ```Asan``` - build with address sanitizer metadata, may not work with some features

## Platform/Compiler specific options

There are two utilities designed to initialize and build project:

- Batch file for Windows (```spmake.bat```)
- Shell script for UNIX-like or any system that supports sh ((```spmake.sh```))

It can be run with 6 options:

- ```init``` - initializes project using CMakeLists.txt present in root folder  
- ```build``` - build ```%TARGET_NAME%``` that was generated by cmake to build folder  
- ```test``` - build and run tests for project  
- ```memcheck``` - run memcheck tests for project  
- ```install``` - install ```%TARGET_NAME%```
- ```clean``` - delete build folder  

At the beggining of each utility file, there are some options to configure

- ```CXXFLAGS_%ConfigName%``` - compiler args for configuration/build type
- ```LD_FLAGS_%ConfigName%``` - linker flasg for configuration/build type
- ```MEMCHECK``` - memcheck tool to use
- ```MEMCHECK_ARGS``` - options to pass to memcheck tool
- ```MEMCHECK_SUPPRESSIONS_FILE``` - memcheck tool suppresions file (passed to ctest)
